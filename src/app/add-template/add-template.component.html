<app-admin-nav-bar></app-admin-nav-bar>
<div style="margin: 20px;">
    <table class="table table-striped" style="margin-top: 20px;"> <!-- Adjust margin-top for positioning -->
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Label</th>
          <th scope="col">Type</th>
          <th scope="col">Value</th>
          <th scope="col">Default Value</th>
          <th scope="col">Shortcut</th>
          <th scope="col">Actions</th> <!-- Added column for actions -->
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let input of this.allInputs; let i = index">
          <tr>
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ input.label }}</td>
            <td>{{ input.type}}</td>
            <td>{{ input.value }}</td>
            <td>{{ input.defaultValue }}</td>
            <td>{{ input.shortcut }}</td>
            <td>
              <span (click)="openEditInputModal(addInputModal, input)" style="margin-right: 10px;"><i class="fas fa-edit"></i></span> <!-- Icon for editing -->
              <span (click)="openDeleteInputModal(deleteInputModal,input)"><i class="fas fa-trash"></i></span> <!-- Icon for deleting -->
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  
    <div class="container" style="margin-top: 20px;margin-right: 20px;">
      <div class="row justify-content-end">
        <div class="col-12 col-md-auto mb-3"> <!-- Align to the right -->
          <button class="btn btn-primary" style="margin-right: 20px;" (click) = "openAddInputModal(addInputModal)">
             Add Input  <i class="fa-solid fa-circle-plus"></i>
          </button>
          <button class="btn btn-primary" style="margin-right: 20px;" (click) = "openResetTemplateModal(resetTemplateModal)">
            Reset Template  <i class="fa-solid fa-rotate-left"></i>
         </button>
          <button class="btn btn-primary" (click) = "openSaveTemplateModal(saveTemplateModal)">
            Save template  <i class="fa-regular fa-floppy-disk"></i>
         </button>
        </div>
      </div>
    </div>

    <ng-template #addInputModal let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Add Input</h4>
        </div>
        <div class="modal-body">
          <div class="form-group mb-3">
            <label for="label">Label</label>
            <input type="text" class="form-control" id="label" [(ngModel)]="inputToAdd.label">
          </div>
          <div class="form-group mb-3">
            <label for="type">Type</label>
            <select class="form-control" id="type" [(ngModel)]="inputToAdd.type">
                <option *ngFor="let type of inputTypes" [value]="type">{{type}}</option>
              </select>          
          </div>


          <div class="form-group mb-3" *ngIf="inputToAdd.type === 'int'">
            <label for="intValue">Default Integer Value</label>
            <input type="number" class="form-control" id="intValue" [(ngModel)]="inputToAdd.defaultValue" />
          </div>


          <div class="form-group mb-3" *ngIf="inputToAdd.type === 'string'">
            <label for="stringValue">Default String Value</label>
            <input type="text" class="form-control" id="stringValue" [(ngModel)]="inputToAdd.defaultValue" />
          </div>

          <div class="form-group mb-3" *ngIf="inputToAdd.type === 'float'">
            <label for="floatValue">Default Float Value</label>
            <input type="number" step="0.01" class="form-control" id="floatValue" [(ngModel)]="inputToAdd.defaultValue" />
          </div>


          <div class="form-group mb-3" *ngIf="inputToAdd.type === 'bool'">
            <label for="boolValue">Default Boolean Value</label>
            <select class="form-control" id="boolValue" [(ngModel)]="inputToAdd.defaultValue">
              <option [ngValue]="true">True</option>
              <option [ngValue]="false">False</option>
            </select>
          </div>

          <div class="form-group mb-3">
            <label for="shortcut">Shortcut</label>
            <input type="text" class="form-control" id="shortcut" [(ngModel)]="inputToAdd.shortcut">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="modal.close()">Save</button>
          <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancel</button>
        </div>
      </ng-template>

      <ng-template #resetTemplateModal let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Confirm Template Reset</h4>
        </div>
        <div class="modal-body">
          Confirm template reset.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" (click)="modal.close()">Confirm</button>
          <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancel</button>
        </div>
      </ng-template>

      <ng-template #saveTemplateModal let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Save Template</h4>
        </div>

        <div class="modal-body">
          <div class="form-group mb-3">
            <label for="label">Template name</label>
            <input type="text" class="form-control" id="name" [(ngModel)]="templateToSave.name">
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="modal.close()">Save</button>
          <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancel</button>
        </div>
      </ng-template>

      <ng-template #deleteInputModal let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Confirm Input Deletion</h4>
        </div>
        <div class="modal-body">
          Confirm input deletion.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" (click)="modal.close()">Confirm</button>
          <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancel</button>
        </div>
      </ng-template>